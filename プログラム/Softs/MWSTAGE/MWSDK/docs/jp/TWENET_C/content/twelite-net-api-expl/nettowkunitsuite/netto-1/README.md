# 中継ネット

TWELITE NETでは中継ネットとして、LayerTree (レイヤーツリー) ネットワークがあります。

LayerTree （レイヤーツリー）ネットワークは、上り方向の配送を効率的に実施する目的を持って設計された中継ネットワークです。もっぱら送信のみを行う LayerTree_mininodes も LayterTree ネットワークの一部です。

## 基本ルール

* 親機は１台のみで、全ての通信は親機に集約されます。
* 原則として配送方向は、末端ノードから上位へ、最終的には親機に配送します。
  * 親機から下り方向の配送は、同報通信による配送となります。
  * 子機や中継器同士の通信は親機に一旦配送してから通信します。
    * ただし電波到達範囲にあるノード間は、アドレスを指定することで直接送信できます。
* 中継器は、自身の階層数を事前確定しておきます。
* 電波到達範囲にある、自身の階層数より上位の中継器（階層数の小さい番号をもつ中継器）に接続します。
* 送信先中継器を決めずもっぱら送信のみを行う LayerTree Mininodes を用いると、電池の消費が非常に小さいセンサーノードとして振る舞えます。(App_Tag)

![](<../../../.gitbook/assets/image (51).png>)

## レイヤーについて

親機は0番で、最大63までレイヤーの番号を振ることができます。

![](<../../../.gitbook/assets/image (52).png>)

昇順であれば、番号が飛んでも構いません。
