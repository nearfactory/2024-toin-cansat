<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Mono Wireless, Inc." />
  <title>Sample ACTs</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">body { line-height: 1.3em; }
p { line-height: 1.5em; }
img {
display: block;
margin-left: auto;
margin-right: auto;
width: 66%;
}
h1, h2, h3 {
padding: 1em 1em; border-left: 0.5em solid #000;
background: #f4f4f4;
}
h1.title {
all: initial;
font-size: 1em;
border-left: 3em solid #000;
padding: 0em 0.5em 0em 0.5em;
font-weight: bold;
}
p.author, h2.author {
all: initial;
font-size: 1em;
border-left: 0.5em solid #000;
padding: 0em 0.5em 0em 0.5em;
font-weight: bold;
}
p.date, h3.date {
all: initial;
font-size: 1em;
border-left: 0.5em solid #000;
border-right: 10em solid #000;
padding: 0em 0.5em 0em 0.5em;
font-weight: bold;
}
p.caption {
text-align: center;
font-weight: bold;
}
table {
width: 85%;
margin: auto;
border-collapse: collapse;
border-spacing: 4px;
}
pre {
width: 85%;
padding: 0.5em 1em;
margin: auto;
border:1px solid #333;
padding: 4px;
}
td, th {
border-collapse: collapse;
border:1px solid #333;
}
div.success {
width: 90%;
margin: 0.5em 1em;
margin-left: auto;
margin-right: auto;
padding: 0.5em 1em;
border: dashed 2px #408040;
background-color: #e0FFe0;
}
div.warning {
width: 90%;
margin: 0.5em 1em;
margin-left: auto;
margin-right: auto;
padding: 0.5em 1em;
border: dashed 2px #807060;
background-color: #FFF8E8;
}
div.danger {
width: 90%;
margin: 0.5em 1em;
margin-left: auto;
margin-right: auto;
padding: 0.5em 1em;
border: dashed 2px #FF0000;
background-color: #FFE0E0;
}
div.info {
width: 90%;
margin: 0.5em 1em;
margin-left: auto;
margin-right: auto;
padding: 0.5em 1em;
border: dashed 2px #404080;
background-color: #e8e8FF;
}
div.pageref {
padding: 0.5em 1em;
margin: 2em 0;
color: #232323;
background: #fff8e8;
border-left: solid 10px #ffc06e;
}
code {

padding: 0.2em 0.2em 0.2em 0.2em; background: #f0f0f0;
border: solid 1px #808080;
border-radius: 0.2em;
}
pre code {
background: #ffffff;
border: none;
}</style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Sample ACTs</h1>
<p class="author">Mono Wireless, Inc.</p>
</header>
<nav id="TOC">
<ul>
<li><a href="#sample-acts">Sample ACTs</a><ul>
<li><a href="#introduction-to-sample-acts">Introduction to sample ACTs</a><ul>
<li><a href="#short-act-with-no-wireless-communication-and-only-microcontroller-functions">Short ACT with no wireless communication and only microcontroller functions</a></li>
<li><a href="#example-of-act-description-with-i2c-sensor">Example of ACT description with I2C sensor</a></li>
<li><a href="#basic-act-for-wireless-communication">Basic ACT for wireless communication</a></li>
<li><a href="#act-on-parent-node-side">ACT on Parent Node side</a></li>
<li><a href="#act-to-add-interactive-settings-mode">ACT to add Interactive settings mode</a></li>
<li><a href="#act-to-operate-sensors-and-other-devices">ACT to operate sensors and other devices</a></li>
<li><a href="#act-to-use-twelite-pal">ACT to use TWELITE PAL</a></li>
<li><a href="#act-which-introduced-the-stand-alone-function">ACT, which introduced the stand-alone function</a></li>
</ul></li>
<li><a href="#get-the-latest-version.">Get the latest version.</a></li>
<li><a href="#common-description">Common description</a></li>
</ul></li>
</ul>
</nav>
<h1 id="sample-acts">Sample ACTs</h1>
<p>To help you understand how the ACT works, we have prepared some samples.</p>
<div class="info">
<p>The samples can be found in Act_samples in the folder where you installed the MWSDK.</p>
</div>
<h2 id="introduction-to-sample-acts">Introduction to sample ACTs</h2>
<p>Several samples are provided to help you understand how the act works.</p>
<h3 id="short-act-with-no-wireless-communication-and-only-microcontroller-functions">Short ACT with no wireless communication and only microcontroller functions</h3>
<ul>
<li><a href="act_opening.html">act0..4</a> is a very simple example, without any radio functions, to give you an idea of the basic structure of Act.</li>
</ul>
<h3 id="example-of-act-description-with-i2c-sensor">Example of ACT description with I2C sensor</h3>
<p>This is an example of a wireless sensor implementation that connects an I2C sensor and sends wireless packets while performing a brief operation by sleeping. Since this is a relatively simple and typical structure, it is recommended that you refer to it after reviewing <code>act0</code> through <code>act4</code>.</p>
<ul>
<li><a href="brd_i2c_temphumid.html">BRD_I2C_TEMPHUMID</a></li>
</ul>
<p>Typical elements for implementing wireless sensors in TWELITE (<a href="../networks/nwk_simple.html">simple relay net <code>&lt;NWK_SIMPLE&gt;</code></a>, <a href="../settings/stg_std.html">Interactive settings mode <code>&lt;STG_STD&gt;</code></a>, <a href="../api-reference/predefined_objs/wire/README.html">I2C sensor handling <code>Wire</code></a>, intermittent operation with sleep, etc.).</p>
<h3 id="basic-act-for-wireless-communication">Basic ACT for wireless communication</h3>
<p>These are samples of sending or receiving wireless packets, each implemented from a slightly different perspective.</p>
<ul>
<li><a href="scratch.html">Scratch</a> is a simple code that receives 1 byte commands from the UART, sends them and so on.</li>
<li><a href="slp_wk_and_tx.html">Slp_Wk_and_Tx</a> uses a state machine and intermittent operation with sleep, repeating the process of sleep recovery, radio transmission and sleep.</li>
<li><a href="pingpong.html">PingPong</a> is a sample of sending packets from one side to the other and receiving packets back by the other side. It contains basic procedures for sending and receiving.</li>
<li><a href="wirelessuart.html">WirelessUART</a> interprets the UART input into ASCII format using <a href="../api-reference/classes/ser_parser.html">serparser</a> and sends it.</li>
</ul>
<h3 id="act-on-parent-node-side">ACT on Parent Node side</h3>
<div class="info">
<p>Note: <a target=_blank href="https://wings.twelite.info/">App_Wings</a> can also be used to receive wireless packets for the ACTs included in this sample.</p>
</div>
<p>Refer to this when implementing your own Receiving Parent Node application.</p>
<ul>
<li><a href="parent_monostick.html">Parent_MONOSTICK</a> exclusively receives and outputs the reception result to the serial port. The wireless packets in this sample, which are addressed to the parent device (0x00) or to the child device broadcast (0xFE), can be received. It also includes a procedure to add the interactive mode <a href="../settings/stg_std.html">&lt;STG_STD&gt;</a> to Act.</li>
<li><a href="rcv_univsl.html">Rcv_Univsl</a> is an example code for universal packets receiver (e.g. TWENET layered tree network, App_Twelite, Act, …). It alse uses EASTL library for container or some algorithm.</li>
</ul>
<h3 id="act-to-add-interactive-settings-mode">ACT to add Interactive settings mode</h3>
<p>The explanation of the ACT using Interactive settings mode describes the general flow of the program. There are no major differences between the explanations for any of the samples. (Here we quote BRD_I2C_TEMPHUMID)</p>
<ul>
<li><a href="brd_i2c_temphumid.html">BRD_I2C_TEMPHUMID</a> executes I2C sensor device read/write commands and wirelessly transmits measurements obtained from I2C sensors. It also uses the Interactive settings mode <a href="../settings/stg_std.html">&lt;STG_STD&gt;</a> to Act.</li>
<li>Setting provides a higher degree of customisation of the interactive mode <a href="../settings/stg_std.html">&lt;STG_STD&gt;</a>.</li>
</ul>
<h3 id="act-to-operate-sensors-and-other-devices">ACT to operate sensors and other devices</h3>
<p>This sample obtains sensor information from built-in peripherals and external sensor devices.</p>
<ul>
<li><a href="brd_i2c_temphumid.html">BRD_I2C_TEMPHUMID</a> executes I2C sensor device read/write commands and wirelessly transmits measurements obtained from I2C sensors. It also uses the Interactive settings mode <a href="../settings/stg_std.html">&lt;STG_STD&gt;</a> to Act.</li>
<li><a href="brd_apptwelite.html">BRD_APPTWELITE</a> provides bidirectional communication using digital input, analogue input, digital output and analogue output. It also contains the procedure for adding the interactive mode <a href="../settings/stg_std.html">&lt;STG_STD&gt;</a> to Act.</li>
<li><a href="pulsecounter.html">PulseCounter</a> uses a pulse counter function to count the number of pulses detected on the input port, even during sleep, and to transmit this data wirelessly.</li>
<li><a href="pal_amb-behavior.html">PAL_AMB_behavior</a> is a behavioural example: in PAL_AMB the temperature and humidity sensors are called by the code inside the library, but this sample also includes its own procedure for accessing the temperature and humidity sensors via I2C bus.</li>
</ul>
<h3 id="act-to-use-twelite-pal">ACT to use TWELITE PAL</h3>
<p>Although a standard PAL application is written into TWELITE PAL, it is possible to write a description using ACT without using the PAL application. The MWX library provides standard procedures for MOTION SENSE PAL use.</p>
<p>This is a sample for various PAL boards. This sample acquires sensor values, transmits these valuse, and sleeps on the PAL board.</p>
<ul>
<li><a href="pal_amb.html">PAL_AMB</a></li>
<li><a href="pal_mot-oneshot.html">PAL_MOT-single</a></li>
<li><a href="pal_mag.html">PAL_MAG</a></li>
</ul>
<p>The following is an example of an advanced application, which is a little more complicated to describe than the above ACT.</p>
<ul>
<li><a href="pal_amb-usenap.html">PAL_AMB_usenap</a> is a sample that aims to save more power by allowing the TWELITE microcontroller to sleep briefly during the sensor’s operating time, which can take several tens of milliseconds.</li>
<li><a href="pal_amb-behavior.html">PAL_AMB_behavior</a> is a behavioural example: in PAL_AMB the temperature and humidity sensors are called by the code inside the library, but this sample also includes its own procedure for accessing the temperature and humidity sensors via I2C bus.</li>
<li><a href="pal_mot.html">PAL_MOT_fifo</a> for continuous acquisition and wireless transmission of samples without interruption, using the accelerometer’s FIFO and FIFO interrupts.</li>
</ul>
<h3 id="act-which-introduced-the-stand-alone-function">ACT, which introduced the stand-alone function</h3>
<p>Acts with names starting with <a href="unit_acts.html">Unit</a> are intended to introduce features and APIs.</p>
<h2 id="get-the-latest-version.">Get the latest version.</h2>
<div class="info">
<p>We have put the complete source on Github for the purpose of checking the latest code and the revision history between MWSDK versions. See the links below for more information.</p>
<p><a target=_blank href="https://github.com/monowireless/Act_samples">https://github.com/monowireless/Act_samples</a></p>
</div>
<h2 id="common-description">Common description</h2>
<p>The following items are common settings in the Act sample and are explained below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb1-1" title="1"><span class="at">const</span> <span class="dt">uint32_t</span> APP_ID = <span class="bn">0x1234abcd</span>;</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="at">const</span> <span class="dt">uint8_t</span> CHANNEL = <span class="dv">13</span>;</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="at">const</span> <span class="dt">char</span> APP_FOURCHAR[] = <span class="st">&quot;BAT1&quot;</span>;</a></code></pre></div>
<div class="info">
<p>The following settings are common to all sample acts.</p>
<ul>
<li>Application ID <code>0x1234abcd</code></li>
<li>Channel <code>13</code></li>
</ul>
<p>Both the application ID and the channel are mechanisms to ensure that the network does not mix with other networks.</p>
<p>Systems with different Application IDs will not mix, even if they are on the same channel. However, if a system with a different Application ID is transmitting frequently, this will cause interference and will have an effect.</p>
<p>The channel determines the frequency used for communication; in principle, 16 channels are available on the TWELITE radio module, and it is not possible to communicate with different channels except in very exceptional cases, which would not be the case in a normal system.</p>
<p>As a common specification of sample acts, the payload (data part) of the packet is prefixed with a 4-byte string (<code>APP_FOURCHAR[]</code>). This is for explanatory purposes, although one byte is sufficient for species specific identifiers. The inclusion of such system-specific identifiers and data structures is another way to prevent confusion.</p>
</div>
</body>
</html>
