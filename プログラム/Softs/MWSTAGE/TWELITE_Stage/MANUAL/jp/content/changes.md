---
title: "改訂履歴"
author: "Mono Wireless Inc."
description: revision history
---

# 改訂履歴

ソースコードの変更履歴は [https://mwm5.twelite.info/changes](https://mwm5.twelite.info/changes) および　[https://github.com/monowireless/mwm5](https://github.com/monowireless/mwm5) を参照ください。

プラットフォームによっては、配布中の最新バージョンと改訂履歴の最新バージョンが一致しない場合があります。


## 1.3.8 MWSTAGE2022\_07収録版
メジャーバージョンアップ。

* 内部描画解像度を320x240から640x480ピクセルに変更
* 加速度センサーのリアルタイムグラフの追加
* センサーデータの保存とグラフ表示を行うセンサーグラフを追加
* 英語表示に対応
* 主要マニュアルをローカルhtmlファイルに変更

## 1.0.8 MWSTAGE2021\_09収録版

* `[ A ]` `[ B ]` `[ C ]`ボタンで、ポインタから外れたボタンが残ってしまう場合があった
* STAGE APPでEnter入力の際にTWELITEに対してCRLFを送信するようにした
* MacのFTDIライブラリを更新しApple Silicon(M1)でもシリアル仲介プログラムを利用しなくても、動作できるようになった
* Windowsでmsysツール群のPATHを内部設定し、期待しないmakeが呼び出されないようにした
* TWELITE未接続でも書き込み画面に移動できるようにした(B,Rキーを入力し、対象のTWELITEモデルを指定する)
* VSCodeを利用する設定を行った場合は、ActやTweAppsを選択したときに、ビルドを実行せず、build/以下の.binファイルを書き込む画面を開くようにした。（ビルドはVSCodeから実施します）
* いくつかの環境変数を内部的に設定し、TWELITE STAGEから起動したVSCodeにこれらを参照させることで、VSCodeから適切なビルドを実行、VSCodeのコード解釈に対して適切なライブラリソースを参照できるようにした
* MWSDKフォルダ以下にサンプルコードが格納されているが、ビルド対象のフォルダをドロップすることで、MWSDK以外のフォルダでもビルドや書き込み作業をできるようにした（フォルダ名に空白や日本語文字などが含まれてはいけません）
* 始動時のコンソール画面に、内部のフォルダ設定や環境変数の設定内容を表示するようにした
* 終了時は１秒待ってからSTAGE APPを終了するようにした

## 1.0.7pre2

* Raspberry Pi の対応を強化 (1.0.7pre2)
  * serial0 の対応（TWELITE STAGE HAT)
  * Zero 向けビルドを追加(対応ライブラリでビルド＆描画フェード機能を無効化)
  * X11 デスクトップ向けビルドを追加
* 一般のFTDIデバイス(FT232,FT230)でも利用できるようにした。ファームウェア書き込みモードは手動で行う必要があります
* Windowsで、シリアルポート選択画面で`c`キーを押すことでWindowsで割り当てられているCOMポートを表示する機能を追加した
* ボーレートを115200bpsから変更できるようにした
* 描画フェード機能を無効にするコマンドラインオプション(`-E 0`)を追加。

## 1.0.3 MWSTAGE2020\_12収録版

* TWELITE CUE対応（パーサー・CUEビューア）
* 書換メニューで、書き込み時にベリファイ（比較）を行うようにした。
* Apple Silicon暫定対応（`TWELITE_Stage.command` はユニバーサルアプリ、シリアル処理用の外部コマンド`sersrv_ftdi.command`、Toolsは Rosetta2 で動作可能な intel バイナリを再ビルド、シリアル通信は外部コマンド経由のため遅くなります)
* フォルダ構成で `MWSTAGE/MWSDK/Tools` を `MWSTAGE/Tools`に移動した。(MWSDKをMWSDK\_COMMONレポジトリをそのまま利用できるようにするため)
* TWELITE\_Stage.ini (起動ファイル名から拡張子を取り除き .ini を付加) を、起動時に読み込みMWSDKフォルダを選択できるようにした。(古い版のライブラリ一式を簡単に切り替えられるようにした)
* 画面描画用のSDL2ライブラリを 2.0.12 に変更した (Windows, MacOS, RaspberryPi)。
* Windows では static ビルドとして DLL ファイル不要とした。
* make -j による並列ビルド数を(物理CPU数 - 1)とした。
* 書換メニューのいくつかの場所で、シリアルポートの再オープンを明示的に行うようにした。デバイスの抜き差しを行ったときなどにUSB接続が切断した場合などに、復帰しやすいようにした。
*   Alt(Cmd)+Shift+m, t で mwx, twesettings を開くとき `TWENET/usever.mk` 記載のフォルダを

    　開くようにした。
* \[Raspberry Pi] 初回起動時に /dev/serial0 での書込メニュー遷移が失敗する問題を修正。

### 既知の問題

* 起動時にAlt(Cmd)押し下げ時のヘルプメッセージが出現しない場合がある。Alt(Cmd)+0を入力することで表示されます。
* 書換メニューでファイル名が長すぎる場合に、行の行事が乱れる場合がある。
* Apple Siliconでの動作については十分な検証を行っていません。

## 0.9.11 MWSTAGE2020\_10, Raspberry Pi 版 (暫定版)

(※包括的な検証を実施しないバージョンです)

* Raspberry Pi での動作
* その他、機能調整

## 0.9.9 - MWSTAGE2020\_10収録版

* 最上位メニューにも \[ｳｪﾌﾞ] ボタンを追加し、関連リンクをブラウザで開けるようにした。
* Linux版のフォルダ、ウェブ、VS Code で開く機能を実装した。
* TWELITE  が頻繁に UART 出力している場合に、書き込みメニューへ遷移しづらいことがあった

## 1.0.3 MWSTAGE2020\_12収録版

* TWELITE CUE対応（パーサー・CUEビューア）
* 書換メニューで、書き込み時にベリファイ（比較）を行うようにした。
* Apple Silicon暫定対応（`TWELITE_Stage.command` はユニバーサルアプリ、シリアル処理用の外部コマンド`sersrv_ftdi.command`、Toolsは Rosetta2 で動作可能な intel バイナリを再ビルド、シリアル通信は外部コマンド経由のため遅くなります)
* フォルダ構成で `MWSTAGE/MWSDK/Tools` を `MWSTAGE/Tools`に移動した。(MWSDKをMWSDK\_COMMONレポジトリをそのまま利用できるようにするため)
* TWELITE\_Stage.ini (起動ファイル名から拡張子を取り除き .ini を付加) を、起動時に読み込みMWSDKフォルダを選択できるようにした。(古い版のライブラリ一式を簡単に切り替えられるようにした)
* 画面描画用のSDL2ライブラリを 2.0.12 に変更した (Windows, MacOS, RaspberryPi)。
* Windows では static ビルドとして DLL ファイル不要とした。
* make -j による並列ビルド数を(物理CPU数 - 1)とした。
* 書換メニューのいくつかの場所で、シリアルポートの再オープンを明示的に行うようにした。デバイスの抜き差しを行ったときなどにUSB接続が切断した場合などに、復帰しやすいようにした。

### 既知の問題

* 起動時にAlt(Cmd)押し下げ時のヘルプメッセージが出現しない場合がある。Alt(Cmd)+0を入力することで表示されます。
* 書換メニューでファイル名が長すぎる場合に、行の行事が乱れる場合がある。
* Apple Siliconでの動作については十分な検証を行っていません。

## 0.9.11 MWSTAGE2020\_10, Raspberry Pi 版 (暫定版)

(※包括的な検証を実施しないバージョンです)

* Raspberry Pi での動作
* その他、機能調整

## 0.9.9 - MWSTAGE2020\_10収録版

* 最上位メニューにも \[ｳｪﾌﾞ] ボタンを追加し、関連リンクをブラウザで開けるようにした。
* Linux版のフォルダ、ウェブ、VS Code で開く機能を実装した。
* TWELITE  が頻繁に UART 出力している場合に、書き込みメニューへ遷移しづらいことがあった

## 0.9.8a

> [https://github.com/monowireless/TWELITE\_STAGE\_Bin\_M5Stack/releases/tag/0.9.8a](https://github.com/monowireless/TWELITE\_STAGE\_Bin\_M5Stack/releases/tag/0.9.8a)

M5Stack版で `MW-SLA-1J,E` / `MW-OSSLA-1J,E` のデュアルライセンスとし、`readme-j.txt` を更新した。

## 0.9.8

ビューア一覧表示に\[ｳｪﾌﾞ]ボタンを追加し、関連サイトを開く機能を追加など。

### 改定内容

* ビューア＞コマンダーの追加
  * 標準アプリ 0x80 コマンド
  * NOTICE PALのLED制御 (App\_Wingsにコマンドを送付)
* ビューア＞PALビューアのNOTICE PAL対応。
* Actエクストラのメニューを追加
  * Act\_samplesより高度なもの
  * 外部のオープンソースライブラリ（センサー手続きなど）を利用したもの
* マウスによる操作を拡大 (リスト、ボタン、タブ)
  * マウス移動でフォーカス、左クリックで確定、右クリックは\[ESC]キー入力
* 画面表示負荷の低減
  * アプリケーションがバックグラウンドの時はスクリーンセーバーを無効にした
  * アプリケーションがバックグラウンドの時は、描画回数を減らして CPU 負荷を減らした
* ビルドプロジェクト(Act, TWE\_Apps, Actエクストラ)の一覧の機能強化
  * 項目選択時に下部に概要を表示 (000desc.txtを読み込む。TWE\_Descクラスにより処理)
  * プロジェクトフォルダを開く（またはVSCodeで開く)機能
  * 関連ウェブサイトを開く機能
  * ALt+Shift+m mwxライブラリ、Alt+Shift+t twesettingsライブラリを開く機能
  * ビルドメニュー中で選択中のフォルダやビルドエラーファイルを開けるようにした。
* ログ（シリアルポート入出力）機能の追加
  * (Alt/Cmd+L)でログの開始・終了
  * ログファイルを {TWELITE\_Stage 実行形式のあるフォルダ}/log に格納
  * ファイル名は twestage\_{日付-時刻}.log
  * Shift+Alt/Cmd+L でログファイルフォルダを開く
* その他、変更・修正など
  * シリアル(FTDI)デバイス名、IDの表示方法を変更
  * App\_UARTでインタラクティブモードに遷移しなかった問題を修正
  * フォルダドロップ時の挙動を変更した (これまではバイナリ書き込みになる場合があったが、メニュー遷移とした)
  * ターミナル長押し時\[C]でリセットに加え、画面クリアするようにした。

### 既知の問題

* M5Stack で設定を保存するときにハングアップし、設定内容が初期化される場合があります。

## 0.8.9

2020\_05 リリース版

* ウインドウアイコンの追加
* BINファイル一覧画面での最大リスト数の制約を緩和 (win/linux/mac)
* Glancerビューアの追加
* 解説文面等の調整
* コンソール画面の描画の調整
* ファーム書き込み後の移動先画面(インタラクティブモードかターミナルか）の設定が動作していなかった
* Alt(or Cmd)+W の割り当てを変更
* その他不具合の修正

## 0.8.6

Linux 版リリース初版

## 0.8.5

リリース初版
